CRUD - Bristom Api.

Legenda:

ğŸ‘‰ Controller 

ğŸ“‘ Nome do Methodo
ğŸ’¬ DescriÃ§Ã£o
ğŸ“‚ LocalizaÃ§Ã£o
ğŸ”— EndPoint
ğŸ•¸ï¸ RequisiÃ§Ã£o http
ğŸ–Šï¸ Itens NecessÃ¡rios.

ğŸ‘‰ Login && Logout. {
 
    ğŸ“‘ auth 
    ğŸ’¬ FunÃ§Ã£o de Login. 
    ğŸ“‚ controllers/UserController.index
    ğŸ”— https://api.bristom.com/auth
    ğŸ•¸ï¸ POST
    ğŸ–Šï¸ const { type, app } = req.body;

        valid_types = ['api', 'web', 'mobile'];
        mobile_apps = ['ultralog-collector', 'bristom-pro'];

    ğŸ“‘ logout 
    ğŸ’¬ FunÃ§Ã£o de Logout. 
    ğŸ“‚ controllers/UserController.logout
    ğŸ”— https://api.bristom.com/logout
    ğŸ•¸ï¸ POST
    ğŸ–Šï¸ const { user_id, type, app } = req.body;

        valid_types = ['api', 'web', 'mobile'];
        mobile_apps = ['ultralog-collector', 'bristom-pro'];
        user_id = ['Id do usuÃ¡rio no banco remoto']
        }

ğŸ‘‰ User (UsuÃ¡rio) {

    ğŸ“‘ store
    ğŸ’¬ Cria novos usuÃ¡rios
    ğŸ“‚ controllers/UserController.store
    ğŸ”— https://api.bristom.com/users
    ğŸ•¸ï¸ POST  
    ğŸ–Šï¸ const { email, phone, password, name, role, prop } = req.body;

        roles = ['admin', 'user', 'integrator', 'system'];
        prop = [id de uma propriedade, Caso possuir, JÃ¡ cria a associaÃ§Ã£o em PropertiesUsers];
        email = [item obrigatÃ³rio, ex:'example@example.com'];
        phone = [item obrigatÃ³rio, ex:'+5562111111111' ];
        password = [item obrigatÃ³rio, ex:'example.1' ];
        

    ğŸ“‘ index
    ğŸ’¬ Retorna uma lista com todos os usuÃ¡rios. 
    ğŸ“‚ UserController.index
    ğŸ”— https://api.bristom.com/users
    ğŸ•¸ï¸ GET
    ğŸ–Šï¸ --


    ğŸ“‘ show
    ğŸ’¬ Retorna um usuÃ¡rios correspondente ao id informado.
    ğŸ“‚ controllers/UserController.show
    ğŸ”— https://api.bristom.com/users/:user_id
    ğŸ•¸ï¸ GET 
    ğŸ–Šï¸ const { user_id } = req.params;

        user_id = [Id do usuÃ¡rio no banco remoto];


    ğŸ“‘ update
    ğŸ’¬ Modifica informaÃ§Ãµes de algum usuÃ¡rio.
    ğŸ“‚ controllers/UserController.update
    ğŸ”— https://api.bristom.com/users/:user_id
    ğŸ•¸ï¸ PUT 
    ğŸ–Šï¸ const { email, phone, password, role, profile_picture, name } = req.body;
       const { user_id } = req.params;

        roles = ['admin', 'user', 'integrator', 'system'];
        email = [Novo email, ex:'example@example.com' ];
        phone = [Novo phone, ex:'+5562111111111' ];
        password = [Nova senha, ex:'example.1' ];        
        user_id = [Id do usuÃ¡rio no banco remoto];
        name = [Novo nome];


    ğŸ“‘ delete
    ğŸ’¬ Deleta o usuÃ¡rio correspondente ao id informado.
    ğŸ“‚ controllers/UserController.delete
    ğŸ”— https://api.bristom.com/users/:user_id
    ğŸ•¸ï¸ DELETE 
    ğŸ–Šï¸ const { user_id } = req.params;

        user_id = [Id do usuÃ¡rio no banco remoto];


    ğŸ“‘ updatePassword
    ğŸ’¬ Modifica a senha do usuÃ¡rio correspondente ao id informado.
    ğŸ“‚ controllers/UserController.updatePassword
    ğŸ”— https://api.bristom.com/users/:user_id
    ğŸ•¸ï¸ PATCH 
    ğŸ–Šï¸ const { user_id } = req.params;
       const { password } = req.body;

        user_id = [Id do usuÃ¡rio no banco remoto];
        password = [Nova senha];



    ğŸ“‘ invite
    ğŸ’¬ Envia um email para cadastro de novo usuario pra email de cliente, O cadastro jÃ¡ estÃ¡ associado a propriedade informada.
    ğŸ“‚ controllers/UserController.updatePassword
    ğŸ”— https://api.bristom.com/users/:inviteuser_id
    ğŸ•¸ï¸ PATCH 
    ğŸ–Šï¸ const { email, property, name } = req.body;

        property = [item obrigatÃ³rio, id da propriedade recÃ©m criada pelo tÃ©cnico];
        email = [item obrigatÃ³rio, ex: 'example@example.com' ];
        name = [item obrigatÃ³rio, ex: 'nome do cliente' ];
        }
        
ğŸ‘‰ Location (Propriedade) {

    ğŸ“‘ store
    ğŸ’¬ Cria novas propriedades
    ğŸ“‚ controllers/LocationController.store
    ğŸ”— https://api.bristom.com/locations
    ğŸ•¸ï¸ POST  
    ğŸ–Šï¸ const { name, latitude, longitude, has_bomb, user_id, state } = req.body;

        name = [item obrigatÃ³rio, nome da propriedade];
        latitude/longitude = [Local da propriedade, ex: '-16.87299919128418'];
        has_bomb = [item obrigatÃ³rio, booleano que indica se a propriedade possui bomba ou nÃ£o ];
        user_id = [item obrigatÃ³rio, id do usuario no banco remoto ];
        state = [item obrigatÃ³rio, ex: 'GO','DF'... ];
        

    ğŸ“‘ index
    ğŸ’¬ Retorna todos as propriedades do usuÃ¡rio logado. 
    ğŸ“‚ controllers/LocationController.index
    ğŸ”— https://api.bristom.com/locations
    ğŸ•¸ï¸ GET
    ğŸ–Šï¸  const { id: user_id } = req.payload;
		const { active } = req.query;

         active = [Filtra as propriedades por ativas ou por todas.];


    ğŸ“‘ show
    ğŸ’¬ Retorna uma propriedade correspondente ao id informado.
    ğŸ“‚ controllers/.show
    ğŸ”— https://api.bristom.com/locations/:id
    ğŸ•¸ï¸ GET 
    ğŸ–Šï¸ const { id } = req.params;

        id = [Id da propriedade no banco remoto];


    ğŸ“‘ update
    ğŸ’¬ Modifica informaÃ§Ãµes de alguma propriedade.
    ğŸ“‚ controllers/LocationController.update
    ğŸ”— https://api.bristom.com/locations/:id
    ğŸ•¸ï¸ PUT 
    ğŸ–Šï¸ const { name, has_bomb, state, active, lat, lon } = req.body;
	   const { role } = req.payload as UserToken;
	   const { id } = req.params;

        name = [Novo nome];
        has_bomb = [booleano que indica se a propriedade possui bomba ou nÃ£o];
        state = [Novo estado, ex: 'DF' ];
        active = [Novo phone, ex: '+5562111111111' ];
        password = [booleano que indica se a propriedade possui bomba ou nÃ£o ];
        lat/lon =  [Local da propriedade, ex: '-16.87299919128418'];        
        
        roles = ['admin', 'user', 'integrator', 'system'];
        
        id = [Id da propriedade no banco remoto];


    ğŸ“‘ delete
    ğŸ’¬ Deleta a propriedade correspondente ao id informado.
    ğŸ“‚ controllers/LocationController.delete
    ğŸ”— https://api.bristom.com/users/user_id
    ğŸ•¸ï¸ DELETE 
    ğŸ–Šï¸ const { id } = req.params;

        user_id = [Id da propriedade no banco remoto];


    ğŸ“‘ fullIndex
    ğŸ’¬ retorna todas as propriedades.
    ğŸ“‚ controllers/LocationController.fullIndex
    ğŸ”— https://api.bristom.com/weather/locations
    ğŸ•¸ï¸ GET
    ğŸ–Šï¸ --


    ğŸ“‘ associate
    ğŸ’¬ Associa um Usuario a uma propriedade.
    ğŸ“‚ controllers/LocationController.associate
    ğŸ”— https://api.bristom.com/associate/property
    ğŸ•¸ï¸ POST 
    ğŸ–Šï¸ const { user_id, prop_id } = req.body;

        prop_id = [item obrigatÃ³rio, 'id da propriedade'];
        user_id = [item obrigatÃ³rio, 'example@example.com'];
        }


    ğŸ“‘ status
    ğŸ’¬ Verifica se jÃ¡ existe uma propriedade com esses dados.
    ğŸ“‚ controllers/LocationController.associate
    ğŸ”— https://api.bristom.com/locations
    ğŸ•¸ï¸ PATCH 
    ğŸ–Šï¸ const { name, latitude, longitude, state, has_bomb } = req.body;

        name = [item obrigatÃ³rio, 'nome da Propriedade'];
        latitude = [item obrigatÃ³rio, 'Local da propriedade ex: -16.87299919128418'];
        longitude = [item obrigatÃ³rio, 'Local da propriedade ex: -16.87299919128418'];
        state = [item obrigatÃ³rio, 'GO','DF',...];
        has_bomb = [item obrigatÃ³rio, 'booleano'];
        }
 
ğŸ‘‰ Equipments (Equipamentos) {

    âš ï¸ Todos os equipamentos que nÃ£o estÃ£o associados a uma propriedade sÃ£o criados pelo mÃ©todo EquipmentsController.store, e posteriormente podem ser associados a uma propriedade por meio 
    do mÃ©todo  EquipmentsController.associate. 
       Equipamentos que sÃ£o criados por mÃ©todos prÃ³prios como GatewayController.store, necessitam
    de uma propriedade, atÃ© entÃ£o todo equipamento cadastrado consta na tabela de equipments no 
    banco remoto e ao ser associado a uma propriedade passarÃ¡ a existir em sua propria tabela, 
    "gateways, stus, ultralog e etc..."

    ğŸ“‘ store
    ğŸ’¬ Cria novos equipamentos
    ğŸ“‚ controllers/EquipmentsController.store
    ğŸ”— https://api.bristom.com/equipments
    ğŸ•¸ï¸ POST  
    ğŸ–Šï¸ const { chip_id, mac, series_number } = req.body;

        chip_id = [item obrigatÃ³rio, 'Numero de chip id do equipamento'];
        mac = [item obrigatÃ³rio, 'mac sta do equipamento,(para ultralogs utilizar mac ble)'];
        series_number = [item obrigatÃ³rio, 'Numero de serie do equipamento, identifica o equipamento
        com base na sigla que acompanha (MP|GW|ST|SL|SP|GP|UL)' ];
        

    ğŸ“‘ index
    ğŸ’¬ Retorna todos os equipamentos. 
    ğŸ“‚ controllers/EquipmentsController.index
    ğŸ”— https://api.bristom.com/equipments
    ğŸ•¸ï¸ GET
    ğŸ–Šï¸  


    ğŸ“‘ associate
    ğŸ’¬ Retorna uma propriedade correspondente ao id informado.
    ğŸ“‚ controllers/.show
    ğŸ”— https://api.bristom.com/equipments/:id
    ğŸ•¸ï¸ GET 
    ğŸ–Šï¸ const { id } = req.params;

        id = ['Id da propriedade no banco remoto'];

    ğŸ“‘ status
    ğŸ’¬ Verifica se jÃ¡ existe uma propriedade com esses dados.
    ğŸ“‚ controllers/LocationController.associate
    ğŸ”— https://api.bristom.com/equipments
    ğŸ•¸ï¸ PATCH 
    ğŸ–Šï¸ const { name, latitude, longitude, state, has_bomb } = req.body;

        name = [item obrigatÃ³rio, 'nome da Propriedade'];
        latitude = [item obrigatÃ³rio, 'Local da propriedade ex: -16.87299919128418'];
        longitude = [item obrigatÃ³rio, 'Local da propriedade ex: -16.87299919128418'];
        state = [item obrigatÃ³rio, 'GO','DF',...];
        has_bomb = [item obrigatÃ³rio, 'booleano'];
        }

ğŸ‘‰ Gateway  {

    ğŸ“‘ store
    ğŸ’¬ Cria novos gateways a uma propriedade jÃ¡ existente
    ğŸ“‚ controllers/GatewayController.store
    ğŸ”— https://api.bristom.com/gateway
    ğŸ•¸ï¸ POST  
    ğŸ–Šï¸ const { chip_id, mac, prop_id, series_number } = req.body;

         chip_id= [item obrigatÃ³rio, Numero de chip id do equipamento];
         mac= [item obrigatÃ³rio, ex: '-16.87299919128418'];
         prop_id= [item obrigatÃ³rio, Propriedade a qual o Gateway esta conectado ];
         series_number= [item obrigatÃ³rio, Numero de serie de identificaÃ§Ã£o do equipamento ];

    ğŸ“‘ index
    ğŸ’¬ Retorna os Gateways de uma propriedade com base no id da propriedade. 
    ğŸ“‚ controllers/GatewayController.index
    ğŸ”— https://api.bristom.com/gateway
    ğŸ•¸ï¸ GET
    ğŸ–Šï¸ const { prop } = req.query;
        
        prop = prop_id, id da propriedade.

    ğŸ“‘ show
    ğŸ’¬ Busca um Gateway pelo seu id
    ğŸ“‚ controllers/.show
    ğŸ”— https://api.bristom.com/gateway/:id
    ğŸ•¸ï¸ GET 
    ğŸ–Šï¸ const { id } = req.params;

        id = ['Id do gateway no banco remoto'];


    ğŸ“‘ update
    ğŸ’¬ Modifica informaÃ§Ãµes de algum gateway.
    ğŸ“‚ controllers/GatewayController.update
    ğŸ”— https://api.bristom.com/gateway/:id
    ğŸ•¸ï¸ PUT 
    ğŸ–Šï¸ const { chip_id, mac } = req.body;
        const { id } = req.params;

        chip_id= [item obrigatÃ³rio, Numero de chip id do equipamento];'
        mac= [item obrigatÃ³rio, ex: '-16.87299919128418'];'


    ğŸ“‘ delete
    ğŸ’¬ Deleta o gateway correspondente ao id informado.
    ğŸ“‚ controllers/GatewayController.delete
    ğŸ”— https://api.bristom.com/gateway/:id
    ğŸ•¸ï¸ DELETE 
    ğŸ–Šï¸ const { id } = req.params;

         id = ['Id do gateway no banco remoto'];


    ğŸ“‘ associate
    ğŸ’¬ Associa um Gateway a uam propriedade.
    ğŸ“‚ controllers/GatewayController.associate
    ğŸ”— https://api.bristom.com/associate/property
    ğŸ•¸ï¸ POST 
    ğŸ–Šï¸ const { prop_id, series_number } = req.body;

        prop_id = [item obrigatÃ³rio, 'id da propriedade'];
        series_number = [item obrigatÃ³rio, 'example@example.com'];
        }
 

 